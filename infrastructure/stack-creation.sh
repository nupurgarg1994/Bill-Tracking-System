#!/bin/bash


echo "Creating CloudFormation Stack"
aws cloudformation create-stack --profile prod --region us-east-1   --stack-name csye6225 --capabilities CAPABILITY_NAMED_IAM --parameters ParameterKey=CidrBlock,ParameterValue=10.0.0.0/16  ParameterKey=VpcName,ParameterValue=myVPC ParameterKey=SubnetBlock1,ParameterValue=10.0.0.0/24 ParameterKey=SubnetBlock2,ParameterValue=10.0.1.0/24 ParameterKey=SubnetBlock3,ParameterValue=10.0.2.0/24 ParameterKey=AvailabilityZone1,ParameterValue=us-east-1a ParameterKey=AvailabilityZone2,ParameterValue=us-east-1b ParameterKey=Keyname,ParameterValue=nipu_prod ParameterKey=AMIid,ParameterValue=ami-0f69b0f057f27dcd1 ParameterKey=Ec2Size,ParameterValue=20 ParameterKey=RDSSize,ParameterValue=20 ParameterKey=RDSAccessibility,ParameterValue=false ParameterKey=S3ARN,ParameterValue=codedeploy.prod.nupurgarg.me ParameterKey=APPNAME,ParameterValue=csye6225-webapp ParameterKey=DEPGRP,ParameterValue=csye6225-webapp-deployment ParameterKey=DomainName,ParameterValue=prod.nupurgarg.me ParameterKey=AvailabilityZone3,ParameterValue=us-east-1c ParameterKey=Certificate,ParameterValue=arn:aws:acm:us-east-1:714891973760:certificate/bbbfdcc1-c14f-4385-bff6-428c0d45d878 ParameterKey=RDSUsername,ParameterValue=dbuser ParameterKey=RDSPassword,ParameterValue=csye6225password   --template-body file://application.json
